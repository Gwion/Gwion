PACKAGE : gwion
CC      : C:/MinGW/bin/gcc.exe
CFLAGS  : -std=c99 -Iinclude -fstrict-aliasing -Wall -Wextra -DNDEBUG -fomit-frame-pointer -fno-stack-protector -fno-common -O2 -fno-math-errno -fno-trapping-math -ffp-contract=off -fno-signed-zeros -DBUILD_ON_WINDOWS=1 -D_XOPEN_SOURCE=700 -Wl,--export-all-symbols -IC:/Users/Med/Desktop/Gwion/util/libtermcolor/include -Iutil/include -Iast/include -Ilibcmdapp/src -D_GNU_SOURCE -Iast/libprettyerr/src -Ifmt/include -DGWION_VERSION="\"120e1bc5>2021-07-07\"" -Iinclude -Wno-pedantic -DGWION_BUILTIN
LDFLAGS : libgwion.a libcmdapp/libcmdapp.a fmt/libgwion-fmt.a ast/libgwion_ast.a ast/libprettyerr/libprettyerr.a util/libgwion_util.a util/libtermcolor/libtermcolor.a -fomit-frame-pointer -fno-stack-protector -fno-common -O2 -fno-math-errno -fno-trapping-math -ffp-contract=off -fno-signed-zeros -Wl,--enable-auto-import -Wl,--export-all-symbols -static -Wl,--out-implib=libgwion.dll.a
libs: libgwion.a libcmdapp/libcmdapp.a fmt/libgwion-fmt.a ast/libgwion_ast.a ast/libprettyerr/libprettyerr.a util/libgwion_util.a util/libtermcolor/libtermcolor.a
compile src/soundinfo
compile src/clean
compile src/compile
src/compile.c: In function 'compiler_name':
src/compile.c:26:13: warning: implicit declaration of function 'strdup'; did you mean 'mstrdup'? [-Wimplicit-function-declaration]
   26 |   m_str d = strdup(c->base);
      |             ^~~~~~
      |             mstrdup
src/compile.c:26:13: warning: initialization of 'm_str' {aka 'char *'} from 'int' makes pointer from integer without a cast [-Wint-conversion]
src/compile.c:27:13: warning: implicit declaration of function 'strsep'; did you mean 'strstr'? [-Wimplicit-function-declaration]
   27 |   c->name = strsep(&d, ":");
      |             ^~~~~~
      |             strstr
src/compile.c:27:11: warning: assignment to 'm_str' {aka 'char *'} from 'int' makes pointer from integer without a cast [-Wint-conversion]
   27 |   c->name = strsep(&d, ":");
      |           ^
src/compile.c: In function '_compiler_open':
src/compile.c:53:18: warning: implicit declaration of function 'realpath' [-Wimplicit-function-declaration]
   53 |     c->name    = realpath(name, NULL);
      |                  ^~~~~~~~
src/compile.c:53:16: warning: assignment to 'm_str' {aka 'char *'} from 'int' makes pointer from integer without a cast [-Wint-conversion]
   53 |     c->name    = realpath(name, NULL);
      |                ^
src/compile.c:57:25: warning: implicit declaration of function 'fmemopen'; did you mean 'freopen'? [-Wimplicit-function-declaration]
   57 |     c->file = c->data ? fmemopen(c->data, strlen(c->data), "r") : NULL;
      |                         ^~~~~~~~
      |                         freopen
src/compile.c:57:65: warning: pointer/integer type mismatch in conditional expression
   57 |     c->file = c->data ? fmemopen(c->data, strlen(c->data), "r") : NULL;
      |                                                                 ^
compile src/gwion
compile src/arg
src/arg.c: In function 'split_line':
src/arg.c:198:13: warning: implicit declaration of function 'strdup'; did you mean 'mstrdup'? [-Wimplicit-function-declaration]
  198 |   m_str d = strdup(line), c = d;
      |             ^~~~~~
      |             mstrdup
src/arg.c:198:13: warning: initialization of 'm_str' {aka 'char *'} from 'int' makes pointer from integer without a cast [-Wint-conversion]
src/arg.c:200:24: warning: implicit declaration of function 'strsep'; did you mean 'strstr'? [-Wimplicit-function-declaration]
  200 |     const m_str  str = strsep(&d, " ");
      |                        ^~~~~~
      |                        strstr
src/arg.c:200:24: warning: initialization of 'm_str' {aka 'char * const'} from 'int' makes pointer from integer without a cast [-Wint-conversion]
src/arg.c:203:26: warning: implicit declaration of function 'strndup'; did you mean 'mstrdup'? [-Wimplicit-function-declaration]
  203 |     vector_add(v, (vtype)strndup(str, arg ? sz - 1 : sz));
      |                          ^~~~~~~
      |                          mstrdup
compile src/pass
compile src/gwiondata
compile src/plug
src/plug.c: In function 'plug_get':
src/plug.c:50:28: warning: implicit declaration of function 'strdup'; did you mean 'mstrdup'? [-Wimplicit-function-declaration]
   50 |     map_set(h->map, (vtype)strdup(name), (vtype)plug);
      |                            ^~~~~~
      |                            mstrdup
compile src/emit/kind
compile src/emit/emitter
compile src/emit/escape
compile src/emit/memoize
compile src/emit/emit
compile src/env/func
compile src/env/trait
compile src/env/envset
compile src/env/context
compile src/env/nspc
compile src/env/tupleform
compile src/env/type
compile src/env/env
compile src/env/value
compile src/env/env_utils
compile src/import/import_special
compile src/import/import_cdef
compile src/import/import_type
compile src/import/import_tdef
compile src/import/import_oper
compile src/import/import_item
compile src/import/import_checker
compile src/import/import_udef
compile src/import/import_enum
compile src/import/import_internals
compile src/import/cleaner
compile src/import/import_fdef
compile src/lib/union
compile src/lib/array
compile src/lib/prim_values
compile src/lib/string
compile src/lib/engine
compile src/lib/object_op
compile src/lib/ptr
compile src/lib/ugen
compile src/lib/object
compile src/lib/vararg
compile src/lib/event
compile src/lib/tmpl_info
compile src/lib/instr
compile src/lib/ref
compile src/lib/lib_func
compile src/lib/prim
compile src/lib/modules
compile src/lib/opfunc
compile src/lib/shred
In file included from util/include/gwion_util.h:7,
                 from src/lib/shred.c:1:
src/lib/shred.c: In function 'fork_launch':
src/lib/shred.c:275:33: warning: passing argument 3 of 'CreateThread' from incompatible pointer type [-Wincompatible-pointer-types]
  275 |   THREAD_CREATE(FORK_THREAD(o), fork_run, &tl);
      |                                 ^~~~~~~~
      |                                 |
      |                                 long unsigned int (*)(void *)
util/include/gwion_thread.h:12:34: note: in definition of macro 'THREAD_CREATE'
   12 |   thread = CreateThread(NULL, 0, func, arg, 0, NULL);
      |                                  ^~~~
In file included from c:\mingw\include\windows.h:44,
                 from util/include/gwion_thread.h:7,
                 from util/include/gwion_util.h:7,
                 from src/lib/shred.c:1:
c:\mingw\include\winbase.h:1481:32: note: expected 'LPTHREAD_START_ROUTINE' but argument is of type 'long unsigned int (*)(void *)'
 1481 | (LPSECURITY_ATTRIBUTES, DWORD, LPTHREAD_START_ROUTINE, PVOID, DWORD, PDWORD);
      |                                ^~~~~~~~~~~~~~~~~~~~~~
compile src/parse/func_resolve_tmpl
compile src/parse/operator
compile src/parse/traverse
compile src/parse/scan1
compile src/parse/scan0
compile src/parse/compat_func
compile src/parse/template
compile src/parse/did_you_mean
compile src/parse/scanx
compile src/parse/func_operator
compile src/parse/check_traits
compile src/parse/type_decl
compile src/parse/scan2
compile src/parse/check
compile src/vm/shreduler
compile src/vm/gack
compile src/vm/vm_code
compile src/vm/closure
compile src/vm/vm_name
compile src/vm/vm
compile src/vm/driver
compile src/vm/vm_shred
PACKAGE : gwion_ast
CC      : C:/MinGW/bin/gcc.exe
CFLAGS  : -IC:/Users/Med/Desktop/Gwion/ast//include -I../util/include -D"_XOPEN_SOURCE=700" -IC:/Users/Med/Desktop/Gwion/ast//libprettyerr/src -std=c99 -Iinclude -fstrict-aliasing -Wall -Wextra -DNDEBUG -fomit-frame-pointer -fno-stack-protector -fno-common -O2 -fno-math-errno -fno-trapping-math -ffp-contract=off -fno-signed-zeros -DBUILD_ON_WINDOWS=1 -D_XOPEN_SOURCE=700 -Wl,--export-all-symbols -IC:/Users/Med/Desktop/Gwion/util/libtermcolor/include -Iinclude -D_GNU_SOURCE
LDFLAGS : -fomit-frame-pointer -fno-stack-protector -fno-common -O2 -fno-math-errno -fno-trapping-math -ffp-contract=off -fno-signed-zeros -Wl,--enable-auto-import -Wl,--export-all-symbols -static -Wl,--out-implib=libgwion_ast.dll.a
compile src/scanner
compile src/pp
compile src/pparg
compile src/parser
compile src/macro
compile src/dynop
compile src/ast_free
compile src/ast_new
compile src/loc
compile src/ast_cpy
src/ast_cpy.c: In function 'cpy_stmt_pp':
src/ast_cpy.c:316:28: warning: implicit declaration of function 'strdup'; did you mean 'mstrdup'? [-Wimplicit-function-declaration]
  316 |   if (src->data) a->data = strdup(src->data);
      |                            ^~~~~~
      |                            mstrdup
src/ast_cpy.c:316:26: warning: assignment to 'm_str' {aka 'char *'} from 'int' makes pointer from integer without a cast [-Wint-conversion]
  316 |   if (src->data) a->data = strdup(src->data);
      |                          ^
compile src/lexer
src/gwion.l: In function 'gwion_lex':
src/gwion.l:185:26: warning: implicit declaration of function 'strndup'; did you mean 'mstrdup'? [-Wimplicit-function-declaration]
  185 |   adjust(yyscanner);
      |                          ^      
      |                          mstrdup
src/gwion.l:185:24: warning: assignment to 'char *' from 'int' makes pointer from integer without a cast [-Wint-conversion]
  185 |   adjust(yyscanner);
      |                        ^
src/gwion.l:189:21: warning: implicit declaration of function 'strdup'; did you mean 'mstrdup'? [-Wimplicit-function-declaration]
  189 |   GWYY_LINT(strdup(s), def ? PP_IFNDEF : PP_IFDEF)
      |                     ^~~~~~
src/gwion.l:75:20: note: in definition of macro 'GWYY_LINT'
   75 | #define GWYY_UNDEF    GWYY_LINT(strdup(yytext + 7), PP_UNDEF) if(rem_macro(yyscanner, yytext) < 0) yyterminate();
      |                    ^
src/gwion.l:75:18: warning: assignment to 'char *' from 'int' makes pointer from integer without a cast [-Wint-conversion]
   75 | #define GWYY_UNDEF    GWYY_LINT(strdup(yytext + 7), PP_UNDEF) if(rem_macro(yyscanner, yytext) < 0) yyterminate();
      |                  ^
src/gwion.l:189:11: note: in expansion of macro 'GWYY_LINT'
  189 |   GWYY_LINT(strdup(s), def ? PP_IFNDEF : PP_IFDEF)
      |           ^~~~~~~~~
src/gwion.l:212:24: warning: assignment to 'char *' from 'int' makes pointer from integer without a cast [-Wint-conversion]
  212 | <include_start>. { adjust(yyscanner); lexer_error(yyscanner, _("invalid include. expected #include <filename>"), 102); return 1;}
      |                        ^
src/gwion.l:215:24: warning: assignment to 'char *' from 'int' makes pointer from integer without a cast [-Wint-conversion]
  215 | <import_end>.*\n   { newline(yyscanner); YY_USER_ACTION; BEGIN(INITIAL); }
      |                        ^
src/gwion.l:217:24: warning: assignment to 'char *' from 'int' makes pointer from integer without a cast [-Wint-conversion]
  217 | 
      |                        ^
src/gwion.l:75:18: warning: assignment to 'char *' from 'int' makes pointer from integer without a cast [-Wint-conversion]
   75 | #define GWYY_UNDEF    GWYY_LINT(strdup(yytext + 7), PP_UNDEF) if(rem_macro(yyscanner, yytext) < 0) yyterminate();
      |                  ^
src/gwion.l:106:3: note: in expansion of macro 'GWYY_LINT'
  106 |   scan->interp_state++;
      |   ^~~~~~~~~
src/gwion.l:220:11: note: in expansion of macro 'GWYY_UNDEF'
  220 | ^{SPACE}*"\n"                       { newline(yyscanner); YY_USER_ACTION; GWYY_NL; continue; }
      |           ^~~~~~~~~~
src/gwion.l:98:18: warning: assignment to 'char *' from 'int' makes pointer from integer without a cast [-Wint-conversion]
   98 | %x comment
      |                  ^
src/gwion.l:227:11: note: in expansion of macro 'GWYY_COMMENT_END'
  227 | 
      |           ^               
src/gwion.l: In function 'strip_include':
src/gwion.l:519:10: warning: returning 'int' from a function with return type 'm_str' {aka 'char *'} makes pointer from integer without a cast [-Wint-conversion]
  519 |   *end = '\0';
      |          ^~~~~      
src/gwion.l: In function 'strip_comment':
src/gwion.l:529:10: warning: returning 'int' from a function with return type 'm_str' {aka 'char *'} makes pointer from integer without a cast [-Wint-conversion]
  529 |   return strndup(str, end + 1);
      |          ^~~~~~~~~~~~~~~~~~~~~
src/gwion.l: In function 'macro_data':
src/gwion.l:676:10: warning: returning 'int' from a function with return type 'm_str' {aka 'char *'} makes pointer from integer without a cast [-Wint-conversion]
  676 |   }
      |          ^        
At top level:
src/lexer.c:3287:24: warning: 'yy_fatal_error' defined but not used [-Wunused-function]
 3287 |   b->yy_ch_buf[0] = YY_END_OF_BUFFER_CHAR;
      |                        ^~~~~~~~~~~~~~
linking libgwion_ast.a
building libprettyerr.a src/internal/error.o
PACKAGE : gwion_util
CC      : C:/MinGW/bin/gcc.exe
CFLAGS  : -std=c99 -Iinclude -fstrict-aliasing -Wall -Wextra -DNDEBUG -fomit-frame-pointer -fno-stack-protector -fno-common -O2 -fno-math-errno -fno-trapping-math -ffp-contract=off -fno-signed-zeros -DBUILD_ON_WINDOWS=1 -D_XOPEN_SOURCE=700 -Wl,--export-all-symbols -IC:/Users/Med/Desktop/Gwion/util/libtermcolor/include -Iwindows_missing -D_GNU_SOURCE
LDFLAGS : -fomit-frame-pointer -fno-stack-protector -fno-common -O2 -fno-math-errno -fno-trapping-math -ffp-contract=off -fno-signed-zeros -Wl,--enable-auto-import -Wl,--export-all-symbols -static -Wl,--out-implib=libgwion_util.dll.a
compile src/symbol
compile src/map
compile src/carg
compile src/vector
compile src/hash
compile src/mpool
compile src/text
compile src/scope
compile src/hashmap
compile src/m_vector
compile windows_missing/thread
compile windows_missing/strndup
compile windows_missing/realpath
compile windows_missing/getline
compile windows_missing/fmemopen
windows_missing/fmemopen.c: In function 'fmemopen':
windows_missing/fmemopen.c:23:68: warning: implicit declaration of function 'fdopen'; did you mean 'fopen'? [-Wimplicit-function-declaration]
   23 |   if((fd  = _open_osfhandle((intptr_t)h, _O_APPEND)) < 0 || !(fp = fdopen(fd, "w+"))) {
      |                                                                    ^~~~~~
      |                                                                    fopen
windows_missing/fmemopen.c:23:66: warning: assignment to 'FILE *' {aka 'struct _iobuf *'} from 'int' makes pointer from integer without a cast [-Wint-conversion]
   23 |   if((fd  = _open_osfhandle((intptr_t)h, _O_APPEND)) < 0 || !(fp = fdopen(fd, "w+"))) {
      |                                                                  ^
linking libgwion_util.a
compile src/main
link gwion
